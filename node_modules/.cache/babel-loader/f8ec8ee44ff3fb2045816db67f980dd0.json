{"ast":null,"code":"var _jsxFileName = \"/home/coder/react-validation-app/src/App.js\";\nimport React, { useState, useRef, useCallback } from 'react';\nimport Webcam from 'react-webcam';\nfunction App() {\n  const [isCameraOpen, setIsCameraOpen] = useState(false); // State to control camera initialization\n  const [imageSrc, setImageSrc] = useState(null);\n  const [cameraError, setCameraError] = useState('');\n  const webcamRef = useRef(null);\n\n  // Function to capture screenshot from webcam\n  const capture = useCallback(() => {\n    if (webcamRef.current) {\n      const image = webcamRef.current.getScreenshot();\n      if (image) {\n        setImageSrc(image);\n        console.log(\"Image captured:\", image);\n      } else {\n        console.error(\"Failed to capture image\");\n      }\n    }\n  }, [webcamRef]);\n\n  // Handle Camera Errors\n  const handleUserMediaError = error => {\n    setCameraError(\"Error accessing the camera. Please allow camera permissions.\");\n    console.error(\"Camera error:\", error);\n  };\n\n  // Handle Successful Camera Access\n  const handleUserMedia = () => {\n    setCameraError(\"\"); // Reset error if camera works\n    console.log(\"Camera accessed successfully\");\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, \"Capture ID Card Image\"), !isCameraOpen && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setIsCameraOpen(true),\n    style: {\n      marginBottom: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, \"Start Camera\"), isCameraOpen && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Webcam, {\n    audio: false,\n    ref: webcamRef,\n    screenshotFormat: \"image/jpeg\",\n    width: 350,\n    videoConstraints: {\n      facingMode: \"environment\" // Use rear camera if available\n    },\n    onUserMedia: handleUserMedia,\n    onUserMediaError: handleUserMediaError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: capture,\n    style: {\n      marginTop: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, \"Shutter\")), cameraError && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 23\n    }\n  }, cameraError), imageSrc && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \"Captured Image\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: imageSrc,\n    alt: \"Captured ID\",\n    width: 350,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  })));\n}\nexport default App;","map":{"version":3,"names":["React","useState","useRef","useCallback","Webcam","App","isCameraOpen","setIsCameraOpen","imageSrc","setImageSrc","cameraError","setCameraError","webcamRef","capture","current","image","getScreenshot","console","log","error","handleUserMediaError","handleUserMedia","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","marginBottom","Fragment","audio","ref","screenshotFormat","width","videoConstraints","facingMode","onUserMedia","onUserMediaError","marginTop","color","src","alt"],"sources":["/home/coder/react-validation-app/src/App.js"],"sourcesContent":["import React, { useState, useRef, useCallback } from 'react';\nimport Webcam from 'react-webcam';\n\nfunction App() {\n  const [isCameraOpen, setIsCameraOpen] = useState(false); // State to control camera initialization\n  const [imageSrc, setImageSrc] = useState(null);\n  const [cameraError, setCameraError] = useState('');\n  const webcamRef = useRef(null);\n\n  // Function to capture screenshot from webcam\n  const capture = useCallback(() => {\n    if (webcamRef.current) {\n      const image = webcamRef.current.getScreenshot();\n      if (image) {\n        setImageSrc(image);\n        console.log(\"Image captured:\", image);\n      } else {\n        console.error(\"Failed to capture image\");\n      }\n    }\n  }, [webcamRef]);\n\n  // Handle Camera Errors\n  const handleUserMediaError = (error) => {\n    setCameraError(\"Error accessing the camera. Please allow camera permissions.\");\n    console.error(\"Camera error:\", error);\n  };\n\n  // Handle Successful Camera Access\n  const handleUserMedia = () => {\n    setCameraError(\"\"); // Reset error if camera works\n    console.log(\"Camera accessed successfully\");\n  };\n\n  return (\n    <div className=\"App\">\n      <h2>Capture ID Card Image</h2>\n\n      {/* Button to start the camera */}\n      {!isCameraOpen && (\n        <button onClick={() => setIsCameraOpen(true)} style={{ marginBottom: '10px' }}>\n          Start Camera\n        </button>\n      )}\n\n      {/* Conditionally render the Webcam component based on isCameraOpen */}\n      {isCameraOpen && (\n        <>\n          <Webcam\n            audio={false}\n            ref={webcamRef}\n            screenshotFormat=\"image/jpeg\"\n            width={350}\n            videoConstraints={{\n              facingMode: \"environment\", // Use rear camera if available\n            }}\n            onUserMedia={handleUserMedia}\n            onUserMediaError={handleUserMediaError}\n          />\n\n          {/* Shutter Button to capture the image */}\n          <button onClick={capture} style={{ marginTop: '10px' }}>\n            Shutter\n          </button>\n        </>\n      )}\n\n      {/* Display Camera Error */}\n      {cameraError && <p style={{ color: 'red' }}>{cameraError}</p>}\n\n      {/* Display the captured image */}\n      {imageSrc && (\n        <div style={{ marginTop: '20px' }}>\n          <h3>Captured Image</h3>\n          <img src={imageSrc} alt=\"Captured ID\" width={350} />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}